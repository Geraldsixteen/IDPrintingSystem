<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Neon Flappy</title>

<style>
body{
    margin:0;
    display:flex;
    justify-content:center;
    align-items:center;
    height:100vh;
    background:linear-gradient(270deg,#0f2027,#203a43,#2c5364);
    background-size:400% 400%;
    animation:bg 8s infinite;
}

@keyframes bg{
    0%{background-position:0% 50%}
    50%{background-position:100% 50%}
    100%{background-position:0% 50%}
}

canvas{
    background:rgba(0,0,0,.6);
    box-shadow:0 0 25px cyan;
    border-radius:12px;
}
</style>
</head>

<body>

<canvas id="game" width="400" height="500"></canvas>

<script>
const canvas = document.getElementById("game");
const ctx = canvas.getContext("2d");

let bird = {
    x:80,
    y:200,
    r:12,
    gravity:0.5,
    lift:-8,
    velocity:0
};

let pipes=[];
let frame=0;
let score=0;

document.addEventListener("keydown",e=>{
    if(e.code==="Space") bird.velocity = bird.lift;
});

canvas.addEventListener("click",()=>{
    bird.velocity = bird.lift;
});

function newPipe(){
    let gap=120;
    let top=Math.random()*200+20;
    pipes.push({
        x:canvas.width,
        top:top,
        bottom:top+gap
    });
}

function drawBird(){
    ctx.beginPath();
    ctx.fillStyle="cyan";
    ctx.shadowBlur=15;
    ctx.shadowColor="cyan";
    ctx.arc(bird.x,bird.y,bird.r,0,Math.PI*2);
    ctx.fill();
}

function drawPipes(){
    pipes.forEach(p=>{
        ctx.fillStyle="lime";
        ctx.shadowBlur=10;
        ctx.shadowColor="lime";
        ctx.fillRect(p.x,0,40,p.top);
        ctx.fillRect(p.x,p.bottom,40,canvas.height);
    });
}

function update(){
    ctx.clearRect(0,0,canvas.width,canvas.height);

    frame++;
    if(frame%100===0) newPipe();

    bird.velocity+=bird.gravity;
    bird.y+=bird.velocity;

    pipes.forEach(p=>p.x-=2);

    // collision
    pipes.forEach(p=>{
        if(bird.x+bird.r>p.x && bird.x-bird.r<p.x+40){
            if(bird.y-bird.r<p.top || bird.y+bird.r>p.bottom){
                gameOver();
            }
        }
        if(p.x===bird.x) score++;
    });

    if(bird.y>canvas.height || bird.y<0) gameOver();

    drawBird();
    drawPipes();

    ctx.fillStyle="white";
    ctx.shadowBlur=0;
    ctx.font="20px Arial";
    ctx.fillText("Score: "+score,10,25);

    requestAnimationFrame(update);
}

function gameOver(){
    alert("Game Over! Score: "+score);
    location.reload();
}

update();
</script>

</body>
</html>
